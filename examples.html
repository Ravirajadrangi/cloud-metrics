
<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Yet more Examples &mdash; Cloud Metrics  documentation</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-2.3.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-2.3.0/css/bootstrap-responsive.min.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/js/jquery-1.9.1.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-2.3.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="Cloud Metrics  documentation" href="index.html" />
    <link rel="next" title="Developers Manual" href="developer.html" />
    <link rel="prev" title="Metric Shell" href="metrics.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>
<div class="container">
  
  <div id="navbar" class="navbar navbar-inverse navbar-fixed-top">
    <div class="navbar-inner">
      <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
      <button class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <a class="brand" href="index.html">Cloud Metrics</a>
      <span class="navbar-text pull-left"><b>3.1.1
</b></span>

      <div class="nav-collapse">
        <ul class="nav">
          <li class="divider-vertical"></li>
          
            <li class="dropdown globaltoc-container">
  <a href="index.html"
     class="dropdown-toggle"
     data-toggle="dropdown">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
    ><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="manual.html">Administrator Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="manual.html#installation">Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="manual.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="manual.html#production-version">Production Version</a></li>
<li class="toctree-l3"><a class="reference internal" href="manual.html#development-version">Development Version</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="manual.html#database-configuration">Database Configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="manual.html#obtaining-cloud-usage-information">Obtaining Cloud Usage information</a></li>
<li class="toctree-l3"><a class="reference internal" href="manual.html#eucalyptus">Eucalyptus</a><ul>
<li class="toctree-l4"><a class="reference internal" href="manual.html#log-frequency">Log Frequency</a></li>
<li class="toctree-l4"><a class="reference internal" href="manual.html#create-a-log-backup">Create A Log Backup</a></li>
<li class="toctree-l4"><a class="reference internal" href="manual.html#parse-a-log-backup">Parse A Log Backup</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="manual.html#openstack">OpenStack</a></li>
<li class="toctree-l3"><a class="reference internal" href="manual.html#nimbus">Nimbus</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="manual.html#usage">Usage</a><ul>
<li class="toctree-l3"><a class="reference internal" href="manual.html#commands">Commands</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="manual.html#production-web-pages-using-sphinx">Production Web Pages using Sphinx</a></li>
<li class="toctree-l2"><a class="reference internal" href="manual.html#production-web-pages-using-flask">Production Web Pages using Flask</a></li>
<li class="toctree-l2"><a class="reference internal" href="manual.html#pdf-reports">PDF Reports</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="metrics.html">Metric Shell</a><ul>
<li class="toctree-l2"><a class="reference internal" href="metrics.html#starting-the-cloud-metric-shell">Starting the cloud metric shell</a></li>
<li class="toctree-l2"><a class="reference internal" href="metrics.html#the-set-command">The  &#8220;set&#8221; Command</a><ul>
<li class="toctree-l3"><a class="reference internal" href="metrics.html#set-the-date-range">Set the date range</a></li>
<li class="toctree-l3"><a class="reference internal" href="metrics.html#set-the-metric">Set the metric</a></li>
<li class="toctree-l3"><a class="reference internal" href="metrics.html#set-the-hostname">Set the hostname</a></li>
<li class="toctree-l3"><a class="reference internal" href="metrics.html#set-the-cloud-service">Set the cloud service</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="metrics.html#the-help-command">The &#8220;help&#8221; command</a></li>
<li class="toctree-l2"><a class="reference internal" href="metrics.html#the-analyze-command">The &#8220;analyze&#8221; command</a></li>
<li class="toctree-l2"><a class="reference internal" href="metrics.html#the-chart-command">The &#8220;chart&#8221; command</a></li>
<li class="toctree-l2"><a class="reference internal" href="metrics.html#the-csv-command">The &#8220;csv&#8221; command</a></li>
<li class="toctree-l2"><a class="reference internal" href="metrics.html#examples-of-using-the-metric-shell">Examples of using the metric shell</a><ul>
<li class="toctree-l3"><a class="reference internal" href="metrics.html#daily-active-user-count">Daily active user count</a></li>
<li class="toctree-l3"><a class="reference internal" href="metrics.html#vms-count-by-project">VMs count by Project</a></li>
<li class="toctree-l3"><a class="reference internal" href="metrics.html#three-metrics-in-a-single-chart">Three metrics in a single chart</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Yet more Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#create-a-summary-table-for-the-month-of-january">Create a summary table for the month of January</a></li>
<li class="toctree-l2"><a class="reference internal" href="#create-a-summary-analysis-for-multiple-month">Create a summary analysis for multiple month</a></li>
<li class="toctree-l2"><a class="reference internal" href="#show-machine-image-counts-for-eucalyptus">Show machine image counts for Eucalyptus</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id1">Create a summary table for the month of January</a></li>
<li class="toctree-l2"><a class="reference internal" href="#how-to-create-a-summary-analysis-for-multiple-month">How to create a summary analysis for multiple month</a></li>
<li class="toctree-l2"><a class="reference internal" href="#examples">Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="#yet-another-set-of-examples-scripts-copied-from-somewhere">Yet another set of Examples Scripts copied from somewhere</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="developer.html">Developers Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="repository.html">Directory Structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="repository.html#file-contents">File contents</a></li>
<li class="toctree-l1"><a class="reference internal" href="ubmod.html">UBMoD</a></li>
<li class="toctree-l1"><a class="reference internal" href="lighttpd.html">Stand Allone Web Server</a><ul>
<li class="toctree-l2"><a class="reference internal" href="lighttpd.html#instalation-of-lighttpd">Instalation of lighttpd</a></li>
<li class="toctree-l2"><a class="reference internal" href="lighttpd.html#using-the-standalone-server">Using the Standalone server</a></li>
<li class="toctree-l2"><a class="reference internal" href="lighttpd.html#browsing-the-contents">Browsing the contents</a></li>
</ul>
</li>
</ul>
</ul>
</li>
            <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"><ul>
<li><a class="reference internal" href="#">Yet more Examples</a><ul>
<li><a class="reference internal" href="#create-a-summary-table-for-the-month-of-january">Create a summary table for the month of January</a></li>
<li><a class="reference internal" href="#create-a-summary-analysis-for-multiple-month">Create a summary analysis for multiple month</a></li>
<li><a class="reference internal" href="#show-machine-image-counts-for-eucalyptus">Show machine image counts for Eucalyptus</a></li>
<li><a class="reference internal" href="#id1">Create a summary table for the month of January</a></li>
<li><a class="reference internal" href="#how-to-create-a-summary-analysis-for-multiple-month">How to create a summary analysis for multiple month</a></li>
<li><a class="reference internal" href="#examples">Examples</a></li>
<li><a class="reference internal" href="#yet-another-set-of-examples-scripts-copied-from-somewhere">Yet another set of Examples Scripts copied from somewhere</a></li>
</ul>
</li>
</ul>
</ul>
</li>
          
          
            
  <li><a href="metrics.html"
         title="previous chapter">&laquo; Metric Shell</a></li>
  <li><a href="developer.html"
         title="next chapter">Developers Manual &raquo;</a></li>
          
          
        </ul>

        
          
<form class="navbar-search pull-right" style="margin-bottom:-3px;" action="search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        
      </div>
    </div>
  </div>

  
  <div class="section" id="yet-more-examples">
<h1><a class="toc-backref" href="#id2">Yet more Examples</a><a class="headerlink" href="#yet-more-examples" title="Permalink to this headline">¶</a></h1>
<p>that may have to be merged into metrics section</p>
<div class="sidebar">
<p class="first sidebar-title">.</p>
<div class="contents last topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#yet-more-examples" id="id2">Yet more Examples</a><ul>
<li><a class="reference internal" href="#create-a-summary-table-for-the-month-of-january" id="id3">Create a summary table for the month of January</a></li>
<li><a class="reference internal" href="#create-a-summary-analysis-for-multiple-month" id="id4">Create a summary analysis for multiple month</a></li>
<li><a class="reference internal" href="#show-machine-image-counts-for-eucalyptus" id="id5">Show machine image counts for Eucalyptus</a></li>
<li><a class="reference internal" href="#id1" id="id6">Create a summary table for the month of January</a></li>
<li><a class="reference internal" href="#how-to-create-a-summary-analysis-for-multiple-month" id="id7">How to create a summary analysis for multiple month</a></li>
<li><a class="reference internal" href="#examples" id="id8">Examples</a></li>
<li><a class="reference internal" href="#yet-another-set-of-examples-scripts-copied-from-somewhere" id="id9">Yet another set of Examples Scripts copied from somewhere</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="create-a-summary-table-for-the-month-of-january">
<h2><a class="toc-backref" href="#id3">Create a summary table for the month of January</a><a class="headerlink" href="#create-a-summary-table-for-the-month-of-january" title="Permalink to this headline">¶</a></h2>
<p>The following will create a table with data produced for the month of January:</p>
<div class="highlight-python"><pre>&gt; fg-metric
fg&gt; clear users
fg&gt; analyze -M 01
fg&gt; table --type users --separator ,  --caption Testing_the_csv_table
fg&gt; quit</pre>
</div>
<p>Naturally you could store this script in a file and pipe to fg-metric
in case you have more complex or repetitive analysis to do.</p>
</div>
<div class="section" id="create-a-summary-analysis-for-multiple-month">
<h2><a class="toc-backref" href="#id4">Create a summary analysis for multiple month</a><a class="headerlink" href="#create-a-summary-analysis-for-multiple-month" title="Permalink to this headline">¶</a></h2>
<p>Assume you like to create a nice html page directory with the analysis
of the data contained. This can be done as follows. Assume the
following contents is in the file analyze.txt:</p>
<div class="highlight-python"><pre>clear users
analyze -M 01 -Y 2012
createreport -d 2012-01 -t Running_instances_per_user_of_Eucalyptus_in_India

clear users
analyze -M 02 -Y 2012
createreport -d 2012-01 -t Running_instances_per_user_of_Eucalyptus_in_India

createreports 2012-01 2012-02</pre>
</div>
<p>This page creates a beautiful report page with links to the generated
graphs contained in the directories specified. All index files in the
directories are printed before the images in the directory are
included. The resulting report is an html report.</p>
<p>To start the script, simply use:</p>
<div class="highlight-python"><pre>cat analyze.txt | fg-metric</pre>
</div>
<p>This will produce a nice directory tree with all the data needed for a
display.</p>
</div>
<div class="section" id="show-machine-image-counts-for-eucalyptus">
<h2><a class="toc-backref" href="#id5">Show machine image counts for Eucalyptus</a><a class="headerlink" href="#show-machine-image-counts-for-eucalyptus" title="Permalink to this headline">¶</a></h2>
<p>Based on Jonathan&#8217;s code, we are able to get image counts via cmd2 tools.
It&#8217;s established on &#8216;euca-describe-images&#8217; command:</p>
<div class="highlight-python"><pre>(Cmd) count_images
...
sazh72  1
debian-rm1984   1
pegasus-images  3
wchen-server-stage-1    2
...</pre>
</div>
<p>There are additional options which might be useful,</p>
<ol class="arabic">
<li><p class="first">showing only image numbers owned by the userid specified:</p>
<div class="highlight-python"><pre>(Cmd) count_image -u jdiaz
jdiaz   7</pre>
</div>
</li>
<li><p class="first">displaying details about images:</p>
<div class="highlight-python"><pre>(Cmd) count_images -u jdiaz -d
jdiaz   7
IMAGE   emi-1CA015A7    centos-image-bucket/centos.5-3.x86-64.img.manifest.xml  taklwu  available       public          x86_64  machine eki-78EF12D2    eri-5BB61255    instance-store
IMAGE   emi-DBC4106B    ubuntu-0904-saga-1.5.2/image.manifest.xml       luckow  available       public          x86_64  machine eki-78EF12D2    eri-5BB61255    instance-store
IMAGE   emi-F840162A    myubuntubucket/ubuntufloeserver.img.manifest.xml        sreedharnat1    available       public          x86_64  machine eki-78EF12D2    eri-5BB61255    instance-store
IMAGE   eki-7A031340    mybucket/vmlinuz-2.6.28-11-generic.manifest.xml ajyounge        available       public          x86_64  kernel                  instance-store
IMAGE   emi-E5D514DA    jdiaz/ubuntunattyjdiaz3595279807.img_0.manifest.xml     javidiaz        available       public          x86_64  machine eki-78EF12D2    eri-5BB61255    instance-store
IMAGE   emi-46861248    jdiaz/centos6jdiaz2698814667.img.manifest.xml   javidiaz        available       public          x86_64  machine eki-78EF12D2    eri-5BB61255    instance-store
IMAGE   emi-431F1230    jdiaz/centos6jdiaz2710350825.img.manifest.xml   javidiaz        available       public          x86_64  machine eki-78EF12D2    eri-5BB61255    instance-store
IMAGE   emi-0E0E165E    ajyounge/ubuntu-twister-memcached.img.manifest.xml      ajyounge        available       public          x86_64  machine eki-78EF12D2    eri-5BB61255    instance-store
IMAGE   emi-A5B6148A    ajyounge/ubuntu-lucid-minimal.img.manifest.xml  ajyounge        available       public          x86_64  machine eki-78EF12D2    eri-5BB61255    instance-store
IMAGE   emi-4A051306    ajyounge/ubuntu-lucid-mpj.img.manifest.xml      ajyounge        available       public          x86_64  machine eki-78EF12D2    eri-5BB61255    instance-store
IMAGE   emi-48141244    ajyounge/ajyounge-1563160039.img.manifest.xml   ajyounge        available       public          x86_64  machine eki-78EF12D2    eri-5BB61255    instance-store
IMAGE   emi-FC6A1197    ajyounge/ubuntu-natty.img.manifest.xml  ajyounge        available       public          x86_64  machine eki-78EF12D2    eri-5BB61255    instance-store</pre>
</div>
</li>
<li><dl class="first docutils">
<dt>displaying summary values about images.</dt>
<dd><p class="first">e.g. total image counts, total user counts, average image counts
per user, and maximum image counts and userid:</p>
<div class="last highlight-python"><pre>(Cmd) count_images -s
...
= Summary =
Total image counts:     128
Total user counts:      71
Average image counts per user:  1.80281690141
Maximum image counts and userid:        ajyounge has 12
==========</pre>
</div>
</dd>
</dl>
</li>
</ol>
</div>
<div class="section" id="id1">
<h2><a class="toc-backref" href="#id6">Create a summary table for the month of January</a><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p>The following will create a table with data produced for the month of January:</p>
<div class="highlight-python"><pre>&gt; fg-metric
fg&gt; clear users
fg&gt; analyze -M 01
fg&gt; table --type users --separator ,  --caption Testing_the_csv_table
fg&gt; quit</pre>
</div>
<p>Naturally you could store this script in a file and pipe to fg-metric
in case you have more complex or repetitive analysis to do.</p>
</div>
<div class="section" id="how-to-create-a-summary-analysis-for-multiple-month">
<h2><a class="toc-backref" href="#id7">How to create a summary analysis for multiple month</a><a class="headerlink" href="#how-to-create-a-summary-analysis-for-multiple-month" title="Permalink to this headline">¶</a></h2>
<p>Assume you like to create a nice html page directory with the analysis
of the data contained. This can be done as follows. Assume the following
contents is in the file analyze.txt:</p>
<div class="highlight-python"><pre>clear users
analyze -M 01 -Y 2012
createreport -d 2012-01 -t Running_instances_per_user_of_Eucalyptus_in_India

clear users
analyze -M 02 -Y 2012
createreport -d 2012-01 -t Running_instances_per_user_of_Eucalyptus_in_India

createreports 2012-01 2012-02</pre>
</div>
<p>This page creates a beautiful report page with links to the generated
graphs contained in the directories specified. All index files in
the directories are printed before the images in the directory are
included. The resulting report is an html report.</p>
<p>To start the script, simply use:</p>
<div class="highlight-python"><pre>cat analyze.txt | fg-metric</pre>
</div>
<p>This will produce a nice directory tree with all the data needed for a
display.</p>
</div>
<div class="section" id="examples">
<h2><a class="toc-backref" href="#id8">Examples</a><a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="./examples/example1.txt">example.txt</a>
* ????</p>
<p>[example2.txt](./examples/example2.txt)
* ????</p>
<p>[test.txt](./examples/test.txt)
* ????</p>
<p>WHY ARE YOU USING md syntax, but we use rst ?</p>
</div>
<div class="section" id="yet-another-set-of-examples-scripts-copied-from-somewhere">
<h2><a class="toc-backref" href="#id9">Yet another set of Examples Scripts copied from somewhere</a><a class="headerlink" href="#yet-another-set-of-examples-scripts-copied-from-somewhere" title="Permalink to this headline">¶</a></h2>
<p>Please find a small set of example scripts. Example 2 is most
interesting as it produces output for multiple month on VM ussage and
wallclock time associated with the users</p>
<ul class="simple">
<li><a class="reference external" href="../../../examples/example1.txt">example1.txt</a></li>
<li><a class="reference external" href="../../../examples/example2.txt">example2.txt</a></li>
<li><a class="reference external" href="../../../examples/test.txt">test.txt</a></li>
</ul>
</div>
</div>


</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2013, Developed for FutureGrid by Gregor von Laszewski, Hyungro Lee, FUgang Wang.<br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2pre.<br/>
    </p>
  </div>
</footer>
  </body>
</html>