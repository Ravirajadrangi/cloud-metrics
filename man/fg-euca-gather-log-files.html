
<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>fg-euca-gather-log-files &mdash; Cloud Metrics  documentation</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-2.3.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-2.3.0/css/bootstrap-responsive.min.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.9.1.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-2.3.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="Cloud Metrics  documentation" href="../index.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>
<div class="container">
  
  <div id="navbar" class="navbar navbar-inverse navbar-fixed-top">
    <div class="navbar-inner">
      <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
      <button class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <a class="brand" href="../index.html">Cloud Metrics</a>
      <span class="navbar-text pull-left"><b>3.1.1
</b></span>

      <div class="nav-collapse">
        <ul class="nav">
          <li class="divider-vertical"></li>
          
            <li class="dropdown globaltoc-container">
  <a href="../index.html"
     class="dropdown-toggle"
     data-toggle="dropdown">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
    ><ul>
<li class="toctree-l1"><a class="reference internal" href="../manual.html">Administrator Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../manual.html#installing-the-code">Installing the Code</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../manual.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="../manual.html#production-version">Production Version</a></li>
<li class="toctree-l3"><a class="reference internal" href="../manual.html#development-version">Development Version</a></li>
<li class="toctree-l3"><a class="reference internal" href="../manual.html#additional-packages-for-sphinx">Additional packages for sphinx</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../manual.html#setting-up-a-database">Setting Up a Database</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../manual.html#getting-data">Getting Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../manual.html#eucalyptus">Eucalyptus</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../manual.html#log-frequency">Log Frequency</a></li>
<li class="toctree-l4"><a class="reference internal" href="../manual.html#create-a-log-backup">Create A Log Backup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../manual.html#parse-the-log-backup">Parse the Log Backup</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../manual.html#openstack">OpenStack</a></li>
<li class="toctree-l3"><a class="reference internal" href="../manual.html#nimbus">Nimbus</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../manual.html#generate-results">Generate Results</a></li>
<li class="toctree-l2"><a class="reference internal" href="../manual.html#commands">Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../manual.html#create-production-web-pages-using-sphinx">Create Production Web pages using Sphinx</a></li>
<li class="toctree-l2"><a class="reference internal" href="../manual.html#create-production-web-pages-using-flask">Create Production Web pages using Flask</a></li>
<li class="toctree-l2"><a class="reference internal" href="../manual.html#create-pdf-reports">Create PDF reports</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../metrics.html">Metrics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../metrics.html#number-of-vm-instances-per-user">Number of VM instances per user</a></li>
<li class="toctree-l2"><a class="reference internal" href="../metrics.html#total-runtime-of-vm-instance-used-per-user">Total runtime of VM instance used per user</a></li>
<li class="toctree-l2"><a class="reference internal" href="../metrics.html#a-count-of-vm-images-owned-per-user">A count of VM images owned per user</a></li>
<li class="toctree-l2"><a class="reference internal" href="../metrics.html#the-total-number-of-vm-instances-used-in-a-system">The total number of VM instances used in a system</a></li>
<li class="toctree-l2"><a class="reference internal" href="../metrics.html#total-runtime-of-vm-instances-used-in-a-system">Total runtime of VM instances used in a system</a></li>
<li class="toctree-l2"><a class="reference internal" href="../metrics.html#total-cpu-cores-of-vm-instances-used-in-a-system">Total CPU cores of VM instances used in a system</a></li>
<li class="toctree-l2"><a class="reference internal" href="../metrics.html#total-memories-of-vm-instances-used-in-a-system">Total memories of VM instances used in a system</a></li>
<li class="toctree-l2"><a class="reference internal" href="../metrics.html#total-disks-of-vm-instances-used-in-a-system">Total disks of VM instances used in a system</a></li>
<li class="toctree-l2"><a class="reference internal" href="../metrics.html#examples-that-need-to-be-integrated-into-the-above-sections">Examples that need to be integrated into the above sections</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../metrics.html#id1">Total runtime of VM instance used per user</a></li>
<li class="toctree-l3"><a class="reference internal" href="../metrics.html#id2">A count of VM images owned per user</a></li>
<li class="toctree-l3"><a class="reference internal" href="../metrics.html#id3">The total number of VM instances used in a system</a></li>
<li class="toctree-l3"><a class="reference internal" href="../metrics.html#id4">Total runtime of VM instances used in a system</a></li>
<li class="toctree-l3"><a class="reference internal" href="../metrics.html#id11">Total memories of VM instances used in a system</a></li>
<li class="toctree-l3"><a class="reference internal" href="../metrics.html#id12">Total disks of VM instances used in a system</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">Yet more Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../examples.html#create-a-summary-table-for-the-month-of-january">Create a summary table for the month of January</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples.html#create-a-summary-analysis-for-multiple-month">Create a summary analysis for multiple month</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples.html#show-machine-image-counts-for-eucalyptus">Show machine image counts for Eucalyptus</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples.html#id1">Create a summary table for the month of January</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples.html#how-to-create-a-summary-analysis-for-multiple-month">How to create a summary analysis for multiple month</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples.html#examples">Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples.html#yet-another-set-of-examples-scripts-copied-from-somewhere">Yet another set of Examples Scripts copied from somewhere</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../todo.html">REST: I FOUND THIS IN SOME OTHER FILE</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../todo.html#eucalyptus-2-0-data-integration">Eucalyptus 2.0 Data Integration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../todo.html#todo">TODO</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../ubmod.html">UBMoD</a></li>
<li class="toctree-l1"><a class="reference internal" href="../lighttpd.html">Stand Allone Web Server</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../lighttpd.html#instalation-of-lighttpd">Instalation of lighttpd</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lighttpd.html#using-the-standalone-server">Using the Standalone server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lighttpd.html#browsing-the-contents">Browsing the contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../modules.html">Modules</a></li>
</ul>
</ul>
</li>
            <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"><ul>
<li><a class="reference internal" href="#">fg-euca-gather-log-files</a><ul>
<li><a class="reference internal" href="#name">NAME</a></li>
<li><a class="reference internal" href="#synopsis">SYNOPSIS</a></li>
<li><a class="reference internal" href="#description">DESCRIPTION</a></li>
<li><a class="reference internal" href="#examples">EXAMPLES</a></li>
<li><a class="reference internal" href="#author">AUTHOR</a></li>
<li><a class="reference internal" href="#reporting-bugs">REPORTING BUGS</a></li>
<li><a class="reference internal" href="#contribution">CONTRIBUTION</a></li>
<li><a class="reference internal" href="#copyright">COPYRIGHT</a></li>
<li><a class="reference internal" href="#see-also">SEE ALSO</a></li>
</ul>
</li>
</ul>
</ul>
</li>
          
          
            
          
          
        </ul>

        
          
<form class="navbar-search pull-right" style="margin-bottom:-3px;" action="../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        
      </div>
    </div>
  </div>

  
  <div class="section" id="fg-euca-gather-log-files">
<h1>fg-euca-gather-log-files<a class="headerlink" href="#fg-euca-gather-log-files" title="Permalink to this headline">¶</a></h1>
<div class="section" id="name">
<h2>NAME<a class="headerlink" href="#name" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><strong>fg-euca-gather-log-files</strong> - collect cc.log files of eucalyptus and
rename it with unique file names with &#8216;YYYY-MM-DD-HH-mm-ss-cc.log&#8217;
type. Duplicated file s are ignored.</div></blockquote>
</div>
<div class="section" id="synopsis">
<h2>SYNOPSIS<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><strong>fg-euca-gather-log-files</strong> [OPTION]... -i &lt;from_dir&gt; -o &lt;backup_dir&gt;</div></blockquote>
</div>
<div class="section" id="description">
<h2>DESCRIPTION<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Eucalyptus 2.0 provides a number of log files that are written into a
directory.  The log files are maintained with the rrd tool, thus they
will be overwritten after a particular time period. This tool copies
the log files that end with .log.? into a backup directory. A log
file will only be copied into backup if it is not already there. This
avoids unnecessary operations and allows the integrat ion of this
script into cron.</p>
<p>The program has a number of parameters by default it takes two
directories. The first directory is the directory from which all log
files are copied. The second is the directory to which the files are
to be copied (e.g our Backup directory).  If the backup directory
does not exists it is being utomatically created.</p>
<p>One thing is important to not that the current script looks
recuresively through all subdirectories starting from the from
dir. This is due to the fact that our initial script backed up all
files into various subdirectories. All files will be renamed to</p>
<blockquote>
<div>YYYY-MM-DD-HH-mm-ss-cc.log</div></blockquote>
<p>Specific arguments can be controlled as follows</p>
<blockquote>
<div><table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group" colspan="2">
<kbd><span class="option">-r</span>, <span class="option">-R</span>, <span class="option">--recursive</span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>search directories and their contents recursively</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">-o</span>, <span class="option">--backup <var>&lt;dir&gt;</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>specify the backup directory (renamed log files will be saved here)</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">-i</span>, <span class="option">--source <var>&lt;dir&gt;</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>specify the source directory of eucalyptus logs
(default: /var/log/eucalyptus)</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">-t</span>, <span class="option">--log-type <var>&lt;filename&gt;</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>specify a log type to be gathered (default: cc.log)</td></tr>
</tbody>
</table>
</div></blockquote>
<p>If any of the parameters are used the specification of any
parameters without named parameters is not allowed. Calling:</p>
<div class="highlight-python"><pre>fg-euca-gather-log-files --source &lt;from_dir&gt; --backup &lt;backup_dir&gt;</pre>
</div>
<p>is equicvalent to:</p>
<div class="highlight-python"><pre>fg-euca-gather-log-files -i &lt;from_dir&gt; -o &lt;backup_dir&gt;</pre>
</div>
<p>In a production environment we recommend using explicit parameter naming
in order to be more transparent.</p>
</div></blockquote>
</div>
<div class="section" id="examples">
<h2>EXAMPLES<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><strong>Cron Setup</strong></p>
<p>The following line causes the fg-euca-gather-log-files to be run once an hour:</p>
<div class="highlight-python"><pre>0 * * * * /usr/local/bin/fg-euca-gather-log-files --source &lt;from_dir&gt; --backup &lt;backup_dir&gt;</pre>
</div>
</div></blockquote>
</div>
<div class="section" id="author">
<h2>AUTHOR<a class="headerlink" href="#author" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div>Written by Gregor von Laszewski, Fugang Wang and H. Lee</div></blockquote>
</div>
<div class="section" id="reporting-bugs">
<h2>REPORTING BUGS<a class="headerlink" href="#reporting-bugs" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div>Report fg-cleanup-table bugs to <a class="reference external" href="mailto:laszewski&#37;&#52;&#48;gmail&#46;com">laszewski<span>&#64;</span>gmail<span>&#46;</span>com</a>
Github home page: &lt;<a class="reference external" href="https://github.com/futuregrid/futuregrid-cloud-metrics">https://github.com/futuregrid/futuregrid-cloud-metrics</a>&gt;</div></blockquote>
</div>
<div class="section" id="contribution">
<h2>CONTRIBUTION<a class="headerlink" href="#contribution" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>If you like to contribute to the code, please contact Gregor von Laszewski
at <a class="reference external" href="mailto:laszewski&#37;&#52;&#48;gmail&#46;com">laszewski<span>&#64;</span>gmail<span>&#46;</span>com</a>. The code is located on github at</p>
<p><a class="reference external" href="https://github.com/futuregrid/eucalyptus-cloud-metrics">https://github.com/futuregrid/eucalyptus-cloud-metrics</a></p>
<p>in the directory cloud-metrics</p>
</div></blockquote>
</div>
<div class="section" id="copyright">
<h2>COPYRIGHT<a class="headerlink" href="#copyright" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div>The code is distributed under Apache 2.0 License</div></blockquote>
</div>
<div class="section" id="see-also">
<h2>SEE ALSO<a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h2>
</div>
</div>


</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2013, Developed for FutureGrid by Gregor von Laszewski, Hyungro Lee, FUgang Wang.<br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.<br/>
    </p>
  </div>
</footer>
  </body>
</html>