
<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Metric Shell &mdash; Cloud Metrics  documentation</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-2.3.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-2.3.0/css/bootstrap-responsive.min.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/js/jquery-1.9.1.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-2.3.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="Cloud Metrics  documentation" href="index.html" />
    <link rel="next" title="Developers Manual" href="developer.html" />
    <link rel="prev" title="Administrator Guide" href="manual.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>
<div class="container">
  
  <div id="navbar" class="navbar navbar-inverse navbar-fixed-top">
    <div class="navbar-inner">
      <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
      <button class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <a class="brand" href="index.html">Cloud Metrics</a>
      <span class="navbar-text pull-left"><b>3.1.1
</b></span>

      <div class="nav-collapse">
        <ul class="nav">
          <li class="divider-vertical"></li>
          
            <li class="dropdown globaltoc-container">
  <a href="index.html"
     class="dropdown-toggle"
     data-toggle="dropdown">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
    ><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="manual.html">Administrator Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="manual.html#installation">Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="manual.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="manual.html#production-version">Production Version</a></li>
<li class="toctree-l3"><a class="reference internal" href="manual.html#development-version">Development Version</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="manual.html#database-configuration">Database Configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="manual.html#obtaining-cloud-usage-information">Obtaining Cloud Usage information</a></li>
<li class="toctree-l3"><a class="reference internal" href="manual.html#eucalyptus">Eucalyptus</a><ul>
<li class="toctree-l4"><a class="reference internal" href="manual.html#log-frequency">Log Frequency</a></li>
<li class="toctree-l4"><a class="reference internal" href="manual.html#create-a-log-backup">Create A Log Backup</a></li>
<li class="toctree-l4"><a class="reference internal" href="manual.html#parse-a-log-backup">Parse A Log Backup</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="manual.html#openstack">OpenStack</a></li>
<li class="toctree-l3"><a class="reference internal" href="manual.html#nimbus">Nimbus</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="manual.html#usage">Usage</a><ul>
<li class="toctree-l3"><a class="reference internal" href="manual.html#commands">Commands</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="manual.html#production-web-pages-using-sphinx">Production Web Pages using Sphinx</a></li>
<li class="toctree-l2"><a class="reference internal" href="manual.html#production-web-pages-using-flask">Production Web Pages using Flask</a></li>
<li class="toctree-l2"><a class="reference internal" href="manual.html#pdf-reports">PDF Reports</a></li>
<<<<<<< HEAD
=======
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Metric Shell</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#starting-the-cloud-metric-shell">Starting the cloud metric shell</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-set-command">The  &#8220;set&#8221; Command</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#set-the-date-range">Set the date range</a></li>
<li class="toctree-l3"><a class="reference internal" href="#set-the-metric">Set the metric</a></li>
<li class="toctree-l3"><a class="reference internal" href="#set-the-hostname">Set the hostname</a></li>
<li class="toctree-l3"><a class="reference internal" href="#set-the-cloud-service">Set the cloud service</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#the-help-command">The &#8220;help&#8221; command</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-analyze-command">The &#8220;analyze&#8221; command</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-chart-command">The &#8220;chart&#8221; command</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-csv-command">The &#8220;csv&#8221; command</a></li>
<li class="toctree-l2"><a class="reference internal" href="#examples-of-using-the-metric-shell">Examples of using the metric shell</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#daily-active-user-count">Daily active user count</a></li>
<li class="toctree-l3"><a class="reference internal" href="#vms-count-by-project">VMs count by Project</a></li>
<li class="toctree-l3"><a class="reference internal" href="#three-metrics-in-a-single-chart">Three metrics in a single chart</a></li>
>>>>>>> 79632c75211c7265fe1c1c15a4faf62b236e95ab
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Metric Shell</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#starting-the-cloud-metric-shell">Starting the cloud metric shell</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-set-command">The  &#8220;set&#8221; Command</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#set-the-date-range">Set the date range</a></li>
<li class="toctree-l3"><a class="reference internal" href="#set-the-metric">Set the metric</a></li>
<li class="toctree-l3"><a class="reference internal" href="#set-the-hostname">Set the hostname</a></li>
<li class="toctree-l3"><a class="reference internal" href="#set-the-cloud-service">Set the cloud service</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#the-help-command">The &#8220;help&#8221; command</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-analyze-command">The &#8220;analyze&#8221; command</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-chart-command">The &#8220;chart&#8221; command</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-csv-command">The &#8220;csv&#8221; command</a></li>
<li class="toctree-l2"><a class="reference internal" href="#examples-of-using-the-metric-shell">Examples of using the metric shell</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#daily-active-user-count">Daily active user count</a></li>
<li class="toctree-l3"><a class="reference internal" href="#vms-count-by-project">VMs count by Project</a></li>
<li class="toctree-l3"><a class="reference internal" href="#three-metrics-in-a-single-chart">Three metrics in a single chart</a></li>
<li class="toctree-l3"><a class="reference internal" href="#create-a-summary-table-for-the-month-of-january">Create a summary table for the month of January</a></li>
<li class="toctree-l3"><a class="reference internal" href="#create-a-summary-analysis-for-multiple-month">Create a summary analysis for multiple month</a></li>
<li class="toctree-l3"><a class="reference internal" href="#python-program-to-create-a-summary-analysis-for-multiple-month">Python Program to create a summary analysis for multiple month</a></li>
</ul>
</li>
<<<<<<< HEAD
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="developer.html">Developers Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="todo.html">TODO: examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="todo.html#show-machine-image-counts-for-eucalyptus">Show machine image counts for Eucalyptus</a></li>
<li class="toctree-l2"><a class="reference internal" href="todo.html#showing-only-image-numbers-owned-by-the-userid-specified">Showing only image numbers owned by the userid specified::</a></li>
<li class="toctree-l2"><a class="reference internal" href="todo.html#displaying-details-about-images">Displaying details about images::</a></li>
<li class="toctree-l2"><a class="reference internal" href="todo.html#displaying-summary-values-about-images">Displaying summary values about images</a></li>
</ul>
</li>
=======
<li class="toctree-l1"><a class="reference internal" href="developer.html">Developers Manual</a></li>
>>>>>>> 79632c75211c7265fe1c1c15a4faf62b236e95ab
<li class="toctree-l1"><a class="reference internal" href="repository.html">Directory Structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="repository.html#file-contents">File contents</a></li>
<li class="toctree-l1"><a class="reference internal" href="ubmod.html">UBMoD</a></li>
<li class="toctree-l1"><a class="reference internal" href="lighttpd.html">Stand Allone Web Server</a><ul>
<li class="toctree-l2"><a class="reference internal" href="lighttpd.html#instalation-of-lighttpd">Instalation of lighttpd</a></li>
<li class="toctree-l2"><a class="reference internal" href="lighttpd.html#using-the-standalone-server">Using the Standalone server</a></li>
<li class="toctree-l2"><a class="reference internal" href="lighttpd.html#browsing-the-contents">Browsing the contents</a></li>
</ul>
</li>
</ul>
</ul>
</li>
            <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"><ul>
<li><a class="reference internal" href="#">Metric Shell</a><ul>
<li><a class="reference internal" href="#starting-the-cloud-metric-shell">Starting the cloud metric shell</a></li>
<li><a class="reference internal" href="#the-set-command">The  &#8220;set&#8221; Command</a><ul>
<li><a class="reference internal" href="#set-the-date-range">Set the date range</a></li>
<li><a class="reference internal" href="#set-the-metric">Set the metric</a></li>
<li><a class="reference internal" href="#set-the-hostname">Set the hostname</a></li>
<li><a class="reference internal" href="#set-the-cloud-service">Set the cloud service</a></li>
</ul>
</li>
<li><a class="reference internal" href="#the-help-command">The &#8220;help&#8221; command</a></li>
<li><a class="reference internal" href="#the-analyze-command">The &#8220;analyze&#8221; command</a></li>
<li><a class="reference internal" href="#the-chart-command">The &#8220;chart&#8221; command</a></li>
<li><a class="reference internal" href="#the-csv-command">The &#8220;csv&#8221; command</a></li>
<li><a class="reference internal" href="#examples-of-using-the-metric-shell">Examples of using the metric shell</a><ul>
<li><a class="reference internal" href="#daily-active-user-count">Daily active user count</a></li>
<li><a class="reference internal" href="#vms-count-by-project">VMs count by Project</a></li>
<li><a class="reference internal" href="#three-metrics-in-a-single-chart">Three metrics in a single chart</a></li>
<<<<<<< HEAD
<li><a class="reference internal" href="#create-a-summary-table-for-the-month-of-january">Create a summary table for the month of January</a></li>
<li><a class="reference internal" href="#create-a-summary-analysis-for-multiple-month">Create a summary analysis for multiple month</a></li>
<li><a class="reference internal" href="#python-program-to-create-a-summary-analysis-for-multiple-month">Python Program to create a summary analysis for multiple month</a></li>
=======
>>>>>>> 79632c75211c7265fe1c1c15a4faf62b236e95ab
</ul>
</li>
</ul>
</li>
</ul>
</ul>
</li>
          
          
            
  <li><a href="manual.html"
         title="previous chapter">&laquo; Administrator Guide</a></li>
  <li><a href="developer.html"
         title="next chapter">Developers Manual &raquo;</a></li>
          
          
        </ul>

        
          
<form class="navbar-search pull-right" style="margin-bottom:-3px;" action="search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        
      </div>
    </div>
  </div>

  
  <div class="section" id="metric-shell">
<h1><a class="toc-backref" href="#id1">Metric Shell</a><a class="headerlink" href="#metric-shell" title="Permalink to this headline">¶</a></h1>
<div class="sidebar">
<p class="first sidebar-title">Metrics</p>
<div class="contents last topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#metric-shell" id="id1">Metric Shell</a><ul>
<li><a class="reference internal" href="#starting-the-cloud-metric-shell" id="id2">Starting the cloud metric shell</a></li>
<li><a class="reference internal" href="#the-set-command" id="id3">The  &#8220;set&#8221; Command</a><ul>
<li><a class="reference internal" href="#set-the-date-range" id="id4">Set the date range</a></li>
<li><a class="reference internal" href="#set-the-metric" id="id5">Set the metric</a></li>
<li><a class="reference internal" href="#set-the-hostname" id="id6">Set the hostname</a></li>
<li><a class="reference internal" href="#set-the-cloud-service" id="id7">Set the cloud service</a></li>
</ul>
</li>
<li><a class="reference internal" href="#the-help-command" id="id8">The &#8220;help&#8221; command</a></li>
<li><a class="reference internal" href="#the-analyze-command" id="id9">The &#8220;analyze&#8221; command</a></li>
<li><a class="reference internal" href="#the-chart-command" id="id10">The &#8220;chart&#8221; command</a></li>
<li><a class="reference internal" href="#the-csv-command" id="id11">The &#8220;csv&#8221; command</a></li>
<li><a class="reference internal" href="#examples-of-using-the-metric-shell" id="id12">Examples of using the metric shell</a><ul>
<li><a class="reference internal" href="#daily-active-user-count" id="id13">Daily active user count</a></li>
<li><a class="reference internal" href="#vms-count-by-project" id="id14">VMs count by Project</a></li>
<li><a class="reference internal" href="#three-metrics-in-a-single-chart" id="id15">Three metrics in a single chart</a></li>
<<<<<<< HEAD
<li><a class="reference internal" href="#create-a-summary-table-for-the-month-of-january" id="id16">Create a summary table for the month of January</a></li>
<li><a class="reference internal" href="#create-a-summary-analysis-for-multiple-month" id="id17">Create a summary analysis for multiple month</a></li>
<li><a class="reference internal" href="#python-program-to-create-a-summary-analysis-for-multiple-month" id="id18">Python Program to create a summary analysis for multiple month</a></li>
=======
>>>>>>> 79632c75211c7265fe1c1c15a4faf62b236e95ab
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<p>Cloud Metrics supports a convenient shell to aide in the cloud usage
data analysis. It is advisable that users use the shell in case you
like to conduct multiple analysis steps.  The shell is designed to
read a user&#8217;s input, calculate metrics data, and then provide the
results in an appropriate format such as a standard output, JSON, JPG,
PNG, and html with javascript charting libraries embedded</p>
<div class="section" id="starting-the-cloud-metric-shell">
<h2><a class="toc-backref" href="#id2">Starting the cloud metric shell</a><a class="headerlink" href="#starting-the-cloud-metric-shell" title="Permalink to this headline">¶</a></h2>
<p>To activate the metric shell please execute the command:</p>
<div class="highlight-python"><pre>$ fg-metric</pre>
</div>
<p>Once you do this you can issue some of the metric shell commands. Here
is a simple example that analyzes the runtime metric for a machine
india on which openstack is installed and prints a chart:</p>
<div class="highlight-python"><pre>fg-metric&gt; set nodename india
fg-metric&gt; set platform openstack
fg-metric&gt; set metric runtime
fg-metric&gt; analyze
fg-metric&gt; chart</pre>
</div>
</div>
<div class="section" id="the-set-command">
<h2><a class="toc-backref" href="#id3">The  &#8220;set&#8221; Command</a><a class="headerlink" href="#the-set-command" title="Permalink to this headline">¶</a></h2>
<p>Before performing an analysis, several settings need to be specified
with the <tt class="docutils literal"><span class="pre">set</span></tt> command. This command allows to associate
one or more values with a key:</p>
<div class="highlight-python"><pre>fg-metric&gt; set $key $value[ $value2 ...]</pre>
</div>
<div class="section" id="set-the-date-range">
<h3><a class="toc-backref" href="#id4">Set the date range</a><a class="headerlink" href="#set-the-date-range" title="Permalink to this headline">¶</a></h3>
<p>To analyze data between these two dates please set the date range:</p>
<div class="highlight-python"><pre>fg-metric&gt; set date 2012-01-01T00:00:00 2012-12-31T23:59:59</pre>
</div>
</div>
<div class="section" id="set-the-metric">
<h3><a class="toc-backref" href="#id5">Set the metric</a><a class="headerlink" href="#set-the-metric" title="Permalink to this headline">¶</a></h3>
<p>To specify  which metric item will be calculated please set it as follows:</p>
<div class="highlight-python"><pre>fg-metric&gt; set metric runtime
<<<<<<< HEAD

(multiple metrics)
fg-metric&gt; set metric runtime count</pre>
</div>
<p>We are supporting the following metrics:</p>
<div class="highlight-python"><pre>fg-metric&gt; set metric help
Possible commands
=================
 set metric count
 set metric runtime
 set metric countusers
 set metric cores
 set metric runtimeusers
 set metric memories
 set metric disks</pre>
</div>
</div>
<div class="section" id="set-the-hostname">
<h3><a class="toc-backref" href="#id6">Set the hostname</a><a class="headerlink" href="#set-the-hostname" title="Permalink to this headline">¶</a></h3>
<p>As our metric system can handle multiple coulds, it is important to
set for which host the calculations are to be specified. Please set it
ass follows where the name india is your machine that holds the IaaS:</p>
<div class="highlight-python"><pre>fg-metric&gt; set hostname india</pre>
</div>
</div>
<div class="section" id="set-the-cloud-service">
<h3><a class="toc-backref" href="#id7">Set the cloud service</a><a class="headerlink" href="#set-the-cloud-service" title="Permalink to this headline">¶</a></h3>
<p>To specify which cloud service will be included please use the
following command:</p>
<div class="highlight-python"><pre>fg-metric&gt; set platform openstack</pre>
</div>
</div>
</div>
<div class="section" id="the-help-command">
<h2><a class="toc-backref" href="#id8">The &#8220;help&#8221; command</a><a class="headerlink" href="#the-help-command" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="docutils literal"><span class="pre">help</span></tt> command is useful to obtain a simple help message for the
available commoand:</p>
<div class="highlight-python"><pre>fg-metric&gt; help

Documented commands (type help &lt;topic&gt;):
========================================
_load           clear           edit     l     pause    run      shell
_relative_load  cmdenvironment  get      li    py       save     shortcuts
analyze         csv             hi       list  r        set      show
chart           ed              history  load  refresh  setconf  showconf

Undocumented commands:
======================
EOF  eof  exit  help  q  quit</pre>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">TODO: document the undocumented commands and include new output here once done.</p>
</div>
<p>To find out more details about an available shell command, simply type
in help followed by the command:</p>
<div class="highlight-python"><pre>fg-metric&gt; help set
Set a function with parameter(s)

fg-metric&gt; set help

=======

(multiple metrics)
fg-metric&gt; set metric runtime count</pre>
</div>
<p>We are supporting the following metrics:</p>
<div class="highlight-python"><pre>fg-metric&gt; set metric help
Possible commands
=================
 set metric count
 set metric runtime
 set metric countusers
 set metric cores
 set metric runtimeusers
 set metric memories
 set metric disks</pre>
</div>
</div>
<div class="section" id="set-the-hostname">
<h3><a class="toc-backref" href="#id6">Set the hostname</a><a class="headerlink" href="#set-the-hostname" title="Permalink to this headline">¶</a></h3>
<p>As our metric system can handle multiple coulds, it is important to
set for which host the calculations are to be specified. Please set it
ass follows where the name india is your machine that holds the IaaS:</p>
<div class="highlight-python"><pre>fg-metric&gt; set hostname india</pre>
</div>
</div>
<div class="section" id="set-the-cloud-service">
<h3><a class="toc-backref" href="#id7">Set the cloud service</a><a class="headerlink" href="#set-the-cloud-service" title="Permalink to this headline">¶</a></h3>
<p>To specify which cloud service will be included please use the
following command:</p>
<div class="highlight-python"><pre>fg-metric&gt; set platform openstack</pre>
</div>
</div>
</div>
<div class="section" id="the-help-command">
<h2><a class="toc-backref" href="#id8">The &#8220;help&#8221; command</a><a class="headerlink" href="#the-help-command" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="docutils literal"><span class="pre">help</span></tt> command is useful to obtain a simple help message for the
available commoand:</p>
<div class="highlight-python"><pre>fg-metric&gt; help

Documented commands (type help &lt;topic&gt;):
========================================
_load           clear           edit     l     pause    run      shell
_relative_load  cmdenvironment  get      li    py       save     shortcuts
analyze         csv             hi       list  r        set      show
chart           ed              history  load  refresh  setconf  showconf

Undocumented commands:
======================
EOF  eof  exit  help  q  quit</pre>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">TODO: document the undocumented commands and include new output here once done.</p>
</div>
<p>To find out more details about an available shell command, simply type
in help followed by the command:</p>
<div class="highlight-python"><pre>fg-metric&gt; help set
Set a function with parameter(s)

fg-metric&gt; set help

>>>>>>> 79632c75211c7265fe1c1c15a4faf62b236e95ab
Possible commands
=================
set date $from $to
set metric $name
set platform $name
set nodename $name</pre>
</div>
<p>To ask for help for a parameter you can do this as follows (here we
give an example for finding mor out about the set data command:</p>
<div class="highlight-python"><pre>fg-metric&gt; set date help
Usage: set date from_date(YYYY-MM-DDTHH:MM:SS) to_date(YYYY-MM-DDTHH:MM:SS).
(e.g. set date 2012-01-01T00:00:00 2012-12-31T23:59:59)</pre>
</div>
</div>
<div class="section" id="the-analyze-command">
<h2><a class="toc-backref" href="#id9">The &#8220;analyze&#8221; command</a><a class="headerlink" href="#the-analyze-command" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">TODO Hyungro</p>
</div>
<p>Once you conducted an analyze, cloud metrics supports several output
options such as stdout, JSON, csv, jpg, png, html that can be created
with the help of various commands such as chart and csv which we
describe next.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">TODO Hyungro, what about the other commands? I do not think they are listed here.</p>
</div>
</div>
<div class="section" id="the-chart-command">
<h2><a class="toc-backref" href="#id10">The &#8220;chart&#8221; command</a><a class="headerlink" href="#the-chart-command" title="Permalink to this headline">¶</a></h2>
<p><tt class="docutils literal"><span class="pre">chart</span></tt> is a command to create a chart html file with different
chart types (e.g. bar, line, column, etc.).  To help understanding of
data, a type of charts should be selected carefully. Relationships
between data and chart type refer to proper representation.</p>
<p>Assume, the data is:</p>
<ul class="simple">
<li>historical representation of quantity, then the type of chart should
be =&gt; a line chart with x-axis as date and y-axis as quantity.
- daily metrics</li>
<li>just quantities of different groups, then the type of chart should be =&gt; a pie chart
- comparison across cloud services, locations, projects.</li>
</ul>
<p>Example usage of the <tt class="docutils literal"><span class="pre">chart</span></tt> command:</p>
<div class="highlight-python"><pre>fg-metric&gt; ...(skipped)...
fg-metric&gt; analyze
fg-metric&gt; chart -t pie-basic --directory $directory_name</pre>
</div>
</div>
<div class="section" id="the-csv-command">
<h2><a class="toc-backref" href="#id11">The &#8220;csv&#8221; command</a><a class="headerlink" href="#the-csv-command" title="Permalink to this headline">¶</a></h2>
<p><tt class="docutils literal"><span class="pre">csv</span></tt> ia a command to export statistics as a comma-separated values (csv) file.</p>
<p>Example usage of <tt class="docutils literal"><span class="pre">csv</span></tt> command:</p>
<div class="highlight-python"><pre>fg-metric&gt; ...(skipped)...
fg-metric&gt; analyze
fg-metric&gt; csv
2012-01-01T00:00:00-2013-01-01T00:00:00-runtime-openstack-india-dailyAll.csv is created
<<<<<<< HEAD

(or)
fg-metric&gt; csv -o test/result.csv
test/result.csv is created</pre>
</div>
</div>
<div class="section" id="examples-of-using-the-metric-shell">
<h2><a class="toc-backref" href="#id12">Examples of using the metric shell</a><a class="headerlink" href="#examples-of-using-the-metric-shell" title="Permalink to this headline">¶</a></h2>
<p>We show now some examples to highlight how easy it is to generate
statistics with the metric shell.</p>
<div class="section" id="daily-active-user-count">
<h3><a class="toc-backref" href="#id13">Daily active user count</a><a class="headerlink" href="#daily-active-user-count" title="Permalink to this headline">¶</a></h3>
<p>This example shows you how to retrieve data for a certain time period.
<tt class="docutils literal"><span class="pre">set</span> <span class="pre">period</span> <span class="pre">daily</span></tt> provides statistics grouped by date. For example,
if the date settings cover 30 days, the statistics will have 30 record
sets instead of a single record.  The chart type can be selected with
<tt class="docutils literal"><span class="pre">chart</span> <span class="pre">-t</span></tt> option. <tt class="docutils literal"><span class="pre">line-time-series</span></tt> is one of the types in
highcharts. For more details of the types, see here:
<a class="reference external" href="http://www.highcharts.com/demo/">Highchart Demo</a>. In our example we
create a chart that represents for each day the number of users using
a cloud services in a histogram over the specified period (see Figure
1). Using the script:</p>
<div class="highlight-python"><pre>clear
set nodename %(hostname)s
set platform %(service)s
set date %(from_dateT)s %(to_dateT)s
set period daily
set metric countusers
analyze
chart -t line-time-series --directory %(output_directory)s</pre>
</div>
<p>will result in the following image:</p>
<div class="figure">
<a class="reference internal image-reference" href="_images/daily_active_user_count.png"><img alt="Daily active user count" src="_images/daily_active_user_count.png" style="width: 476.0px; height: 396.2px;" /></a>
<p class="caption">Figure 1. The count of active users.</p>
</div>
</div>
<div class="section" id="vms-count-by-project">
<h3><a class="toc-backref" href="#id14">VMs count by Project</a><a class="headerlink" href="#vms-count-by-project" title="Permalink to this headline">¶</a></h3>
<p>This example represents data in percentages for different project
groups. In this example, we use <tt class="docutils literal"><span class="pre">groupby</span></tt> instead of <tt class="docutils literal"><span class="pre">period</span></tt> in
the previous example. It will result in a pie chart showing the
fractions  of Launched VM instances by Project groups (Figure
2). Using the script:</p>
<div class="highlight-python"><pre>clear
set nodename %(hostname)s
set platform %(service)s
set date %(from_dateT)s %(to_dateT)s
set groupby project
set metric count
analyze
chart -t pie-basic --directory %(output_directory)s</pre>
</div>
<p>will result in the following image:</p>
<div class="figure">
<a class="reference internal image-reference" href="_images/vms_count_by_project.png"><img alt="VMs count by Project" src="_images/vms_count_by_project.png" style="width: 476.0px; height: 396.2px;" /></a>
<p class="caption">Figure 2. VMs count by Project.</p>
</div>
</div>
<div class="section" id="three-metrics-in-a-single-chart">
<h3><a class="toc-backref" href="#id15">Three metrics in a single chart</a><a class="headerlink" href="#three-metrics-in-a-single-chart" title="Permalink to this headline">¶</a></h3>
<p>This example represents multiple data in a single chart with multiple
axes. <tt class="docutils literal"><span class="pre">combo-multi-axes</span></tt> allows to depict three metrics in a single
chart.    Here we show a chart that includes average monthly usage as
to Wall Hour (runtime), Count and the number of Users for VM instances
(Figure 3). Using the script:</p>
<div class="highlight-python"><pre>clear
set nodename %(hostname)s
set platform %(service)s
set date %(from_dateT)s %(to_dateT)s
set period monthly
set metric runtime count countusers
set timetype hour
analyze
chart -t combo-multi-axes --directory %(output_directory)s</pre>
</div>
<p>will result in the following image:</p>
<div class="figure">
<a class="reference internal image-reference" href="_images/three_metrics_in_a_single_chart.png"><img alt="Average Monthly Usage Data (Wall hour, Launched VMs, Users)" src="_images/three_metrics_in_a_single_chart.png" style="width: 476.0px; height: 396.2px;" /></a>
<p class="caption">Figure 3. Average Monthly Usage Data (Wall hour, Launched VMs, Users)</p>
</div>
</div>
<div class="section" id="create-a-summary-table-for-the-month-of-january">
<h3><a class="toc-backref" href="#id16">Create a summary table for the month of January</a><a class="headerlink" href="#create-a-summary-table-for-the-month-of-january" title="Permalink to this headline">¶</a></h3>
<p>The following will create a table with data produced for the month of January:</p>
<div class="highlight-python"><pre>&gt; fg-metric
fg&gt; clear users
fg&gt; analyze -M 01
fg&gt; table --type users --separator ,  --caption Testing_the_csv_table
fg&gt; quit</pre>
</div>
<p>Naturally you could store this script in a file and pipe to fg-metric
in case you have more complex or repetitive analysis to do.</p>
</div>
<div class="section" id="create-a-summary-analysis-for-multiple-month">
<h3><a class="toc-backref" href="#id17">Create a summary analysis for multiple month</a><a class="headerlink" href="#create-a-summary-analysis-for-multiple-month" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">TOODO: Why is this eucalyptus?</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">TOODO: Why not &#8221; &#8221; in -t argument?</p>
</div>
<p>Assume you like to create a nice html page directory with the analysis
of the data contained. This can be done as follows. Assume the
following contents is in the file analyze.txt:</p>
<div class="highlight-python"><pre>clear users
analyze -M 01 -Y 2012
createreport -d 2012-01 -t Running_instances_per_user_of_Eucalyptus_in_India

clear users
analyze -M 02 -Y 2012
createreport -d 2012-01 -t Running_instances_per_user_of_Eucalyptus_in_India

createreports 2012-01 2012-02</pre>
</div>
<p>This page creates a beautiful report page with links to the generated
graphs contained in the directories specified. All index files in the
directories are printed before the images in the directory are
included. The resulting report is an html report.</p>
<p>To start the script, simply use:</p>
<div class="highlight-python"><pre>cat analyze.txt | fg-metric</pre>
</div>
<p>This will produce a nice directory tree with all the data needed for a
display.</p>
</div>
<div class="section" id="python-program-to-create-a-summary-analysis-for-multiple-month">
<h3><a class="toc-backref" href="#id18">Python Program to create a summary analysis for multiple month</a><a class="headerlink" href="#python-program-to-create-a-summary-analysis-for-multiple-month" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">TOODO: Hyungro do the test and complete, this will help you getting your automatic example going</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">TOODO: Why is this eucalyptus?</p>
</div>
<p>The previous example has the disadvantage that one has to explicitly
copy the lines that we use to access the analysis. However as Python
includes loops, we can just use loops to create such a script
programatically, while changing some parameters at the beginning:</p>
<div class="highlight-python"><pre>#! /usr/bin/env python
from sh import fg-metric as metric

filename = "/tmp/analyze.txt"

years = ['2013']
months =['01', '02']

script = """
clear users
analyze -M %s(month) -Y %s(year)
createreport -d %s(year)-result -t Running_instances_per_user_of_Eucalyptus_in_%s(host)
"""
###############################
# DO NOT CHANGE FRM HERE
#
# Assampble the anzlyses to be done

f = open (filename, "w")

for year in years:
  for  month in months:
     data = {"year": year, "month": month}
     print &gt;&gt;f, script % data
close f
# finish the script

metric("-f", filename)</pre>
</div>
<p>Naturaly this programm pattern can be used for more cases such as
identifying the current time and generating based on this scripts the
automatically create new alanysis, or the detection if an analysis was
already performed and skipping it. Hence it is possible to create a
fast script that does not need to recreate the majority of the
calculations, but only injects new data and calculate metrics based on
this new data.</p>
=======

(or)
fg-metric&gt; csv -o test/result.csv
test/result.csv is created</pre>
</div>
</div>
<div class="section" id="examples-of-using-the-metric-shell">
<h2><a class="toc-backref" href="#id12">Examples of using the metric shell</a><a class="headerlink" href="#examples-of-using-the-metric-shell" title="Permalink to this headline">¶</a></h2>
<p>We show now some examples to highlight how easy it is to generate
statistics with the metric shell.</p>
<div class="section" id="daily-active-user-count">
<h3><a class="toc-backref" href="#id13">Daily active user count</a><a class="headerlink" href="#daily-active-user-count" title="Permalink to this headline">¶</a></h3>
<p>This example shows you how to retrieve data for a certain time period.
<tt class="docutils literal"><span class="pre">set</span> <span class="pre">period</span> <span class="pre">daily</span></tt> provides statistics grouped by date. For example,
if the date settings cover 30 days, the statistics will have 30 record
sets instead of a single record.  The chart type can be selected with
<tt class="docutils literal"><span class="pre">chart</span> <span class="pre">-t</span></tt> option. <tt class="docutils literal"><span class="pre">line-time-series</span></tt> is one of the types in
highcharts. For more details of the types, see here:
<a class="reference external" href="http://www.highcharts.com/demo/">Highchart Demo</a>. In our example we
create a chart that represents for each day the number of users using
a cloud services in a histogram over the specified period (see Figure
1). Using the script:</p>
<div class="highlight-python"><pre>clear
set nodename %(hostname)s
set platform %(service)s
set date %(from_dateT)s %(to_dateT)s
set period daily
set metric countusers
analyze
chart -t line-time-series --directory %(output_directory)s</pre>
</div>
<p>will result in the following image:</p>
<div class="figure">
<a class="reference internal image-reference" href="_images/daily_active_user_count.png"><img alt="Daily active user count" src="_images/daily_active_user_count.png" style="width: 476.0px; height: 396.2px;" /></a>
<p class="caption">Figure 1. The count of active users.</p>
</div>
</div>
<div class="section" id="vms-count-by-project">
<h3><a class="toc-backref" href="#id14">VMs count by Project</a><a class="headerlink" href="#vms-count-by-project" title="Permalink to this headline">¶</a></h3>
<p>This example represents data in percentages for different project
groups. In this example, we use <tt class="docutils literal"><span class="pre">groupby</span></tt> instead of <tt class="docutils literal"><span class="pre">period</span></tt> in
the previous example. It will result in a pie chart showing the
fractions  of Launched VM instances by Project groups (Figure
2). Using the script:</p>
<div class="highlight-python"><pre>clear
set nodename %(hostname)s
set platform %(service)s
set date %(from_dateT)s %(to_dateT)s
set groupby project
set metric count
analyze
chart -t pie-basic --directory %(output_directory)s</pre>
</div>
<p>will result in the following image:</p>
<div class="figure">
<a class="reference internal image-reference" href="_images/vms_count_by_project.png"><img alt="VMs count by Project" src="_images/vms_count_by_project.png" style="width: 476.0px; height: 396.2px;" /></a>
<p class="caption">Figure 2. VMs count by Project.</p>
</div>
</div>
<div class="section" id="three-metrics-in-a-single-chart">
<h3><a class="toc-backref" href="#id15">Three metrics in a single chart</a><a class="headerlink" href="#three-metrics-in-a-single-chart" title="Permalink to this headline">¶</a></h3>
<p>This example represents multiple data in a single chart with multiple
axes. <tt class="docutils literal"><span class="pre">combo-multi-axes</span></tt> allows to depict three metrics in a single
chart.    Here we show a chart that includes average monthly usage as
to Wall Hour (runtime), Count and the number of Users for VM instances
(Figure 3). Using the script:</p>
<div class="highlight-python"><pre>clear
set nodename %(hostname)s
set platform %(service)s
set date %(from_dateT)s %(to_dateT)s
set period monthly
set metric runtime count countusers
set timetype hour
analyze
chart -t combo-multi-axes --directory %(output_directory)s</pre>
</div>
<p>will result in the following image:</p>
<div class="figure">
<a class="reference internal image-reference" href="_images/three_metrics_in_a_single_chart.png"><img alt="Average Monthly Usage Data (Wall hour, Launched VMs, Users)" src="_images/three_metrics_in_a_single_chart.png" style="width: 476.0px; height: 396.2px;" /></a>
<p class="caption">Figure 3. Average Monthly Usage Data (Wall hour, Launched VMs, Users)</p>
</div>
>>>>>>> 79632c75211c7265fe1c1c15a4faf62b236e95ab
</div>
</div>
</div>


</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2013, Developed for FutureGrid by Gregor von Laszewski, Hyungro Lee, FUgang Wang.<br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2pre.<br/>
    </p>
  </div>
</footer>
  </body>
</html>